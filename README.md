# نظام كاشير المقهى الاحترافي ☕

نظام نقاط بيع (POS) احترافي ومتكامل للمقاهي مع نظام صلاحيات ولوحة تحكم وتقارير مفصلة.

## 🌟 المميزات الرئيسية

### 1. نظام الصلاحيات والمستخدمين
- **ثلاثة مستويات من الصلاحيات:**
  - 👨‍💼 **مدير (Admin)**: وصول كامل لجميع المميزات
  - 👨‍🏫 **مشرف (Supervisor)**: وصول للتقارير والمخزون
  - 💰 **كاشير (Cashier)**: وصول لنقطة البيع فقط
- شاشة تسجيل دخول احترافية
- تتبع المبيعات لكل مستخدم
- حسابات تجريبية جاهزة

### 2. نقطة البيع (POS)
- 40+ منتج مقسمة على 4 فئات
- إضافة وحذف المنتجات من السلة
- حساب تلقائي للضريبة (10%)
- نظام خصومات مرن
- طرق دفع متعددة (نقدي، بطاقة، محفظة إلكترونية)
- طباعة فواتير احترافية

### 3. إدارة المخزون الذكية
- ✅ تحديث تلقائي للمخزون بعد كل عملية بيع
- ⚠️ تنبيهات عند انخفاض المخزون (10 قطع أو أقل)
- 🚫 منع البيع عند نفاذ المخزون
- 📊 تقرير مفصل للمخزون
- ألوان تحذيرية (أخضر، برتقالي، أحمر)

### 4. لوحة التحكم والتقارير 📊
- **إحصائيات فورية:**
  - إجمالي المبيعات اليومية
  - عدد الفواتير
  - عدد المنتجات المباعة
  - الكاشيرات النشطة
  
- **تقارير مفصلة:**
  - تقرير المبيعات الأسبوعي
  - المنتجات الأكثر مبيعاً
  - متوسط قيمة الفاتورة
  - إجمالي الخصومات
  
- **تنبيهات ذكية:**
  - تنبيه المنتجات التي نفذت
  - تنبيه المنتجات القريبة من النفاذ
  
- **آخر الفواتير:**
  - عرض تفصيلي لآخر 10 فواتير
  - معلومات الكاشير والتاريخ
  - طريقة الدفع والمبلغ

### 5. واجهة مستخدم احترافية
- تصميم عربي كامل مع دعم RTL
- رسائل SweetAlert2 الجميلة
- ألوان مستوحاة من المقاهي
- متجاوب مع جميع الأجهزة
- رسوم متحركة سلسة

## 📁 هيكل الملفات

```
coffee-shop-pos/
├── login.html          # صفحة تسجيل الدخول
├── index.html          # نقطة البيع (POS)
├── dashboard.html      # لوحة التحكم والتقارير
├── styles.css          # التصميم الكامل
├── script.js           # منطق نقطة البيع
├── auth.js             # نظام المصادقة والصلاحيات
├── dashboard.js        # منطق لوحة التحكم
└── README.md           # التوثيق
```

## 🚀 البدء السريع

### 1. تسجيل الدخول
افتح `login.html` واستخدم أحد الحسابات التجريبية:

| الصلاحية | اسم المستخدم | كلمة المرور |
|---------|--------------|-------------|
| مدير | admin | 1234 |
| مشرف | supervisor | 1234 |
| كاشير | cashier | 1234 |

### 2. استخدام النظام

**للكاشير:**
1. سجل دخول بحساب الكاشير
2. ابدأ بإضافة المنتجات للسلة
3. اضغط "إتمام الدفع"
4. اختر طريقة الدفع
5. أتمم العملية واطبع الفاتورة

**للمدير/المشرف:**
1. سجل دخول بحساب المدير أو المشرف
2. ستظهر لك لوحة التحكم مباشرة
3. شاهد الإحصائيات والتقارير
4. راقب المخزون والتنبيهات
5. يمكنك الانتقال لنقطة البيع من القائمة

## 📊 التقارير المتاحة

### تقرير المبيعات الأسبوعي
- إجمالي المبيعات
- عدد الفواتير
- متوسط قيمة الفاتورة
- إجمالي الخصومات

### تقرير المخزون
- قائمة بجميع المنتجات
- الكمية المتوفرة
- حالة المخزون (متوفر/منخفض/نفذ)

### المنتجات الأكثر مبيعاً
- رسم بياني تفاعلي
- عدد القطع المباعة
- أفضل 5 منتجات

## 🔐 الصلاحيات التفصيلية

### 💰 الكاشير (Cashier)
**الوصف:** منفذ عمليات البيع فقط

**يمكنه:**
- ✅ إضافة الطلبات إلى السلة
- ✅ إتمام عملية الدفع (كاش / بطاقة / محفظة)
- ✅ طباعة الفاتورة
- ✅ مشاهدة الطلبات الحالية فقط

**لا يمكنه:**
- ❌ تطبيق خصومات
- ❌ تعديل الأسعار أو حذف منتجات
- ❌ الاطلاع على تقارير المبيعات
- ❌ الوصول للوحة التحكم
- ❌ إضافة مستخدمين أو تعديل الصلاحيات

### 🧑‍🔧 المشرف (Supervisor)
**الوصف:** مراقب العمليات اليومية + مسؤول التصحيح

**يمكنه:**
- ✅ كل صلاحيات الكاشير
- ✅ مشاهدة تقارير المبيعات اليومية لكل كاشير
- ✅ مراجعة الفواتير القديمة
- ✅ الموافقة على الخصومات
- ✅ إلغاء فاتورة خاطئة
- ✅ مشاهدة حالة المخزون
- ✅ الوصول للوحة التحكم

**لا يمكنه:**
- ❌ تعديل إعدادات النظام العامة
- ❌ إضافة / حذف أصناف أو مستخدمين
- ❌ تعديل الأسعار أو الضرائب

### 👑 المدير (Admin)
**الوصف:** صاحب النظام - وصول كامل

**يمكنه:**
- ✅ كل صلاحيات الكاشير والمشرف
- ✅ إضافة / تعديل / حذف المستخدمين
- ✅ تعديل الأسعار والضرائب والفئات
- ✅ إدارة إعدادات النظام (اسم المقهى، الشعار، العملة)
- ✅ الوصول إلى كل التقارير (يومي – أسبوعي – شهري)
- ✅ إدارة المنتجات والمخزون
- ✅ الوصول لصفحة الإعدادات

## 📊 جدول الصلاحيات

| الميزة | كاشير | مشرف | مدير |
|-------|-------|------|------|
| نقطة البيع | ✅ | ✅ | ✅ |
| تطبيق خصم | ❌ | ✅ | ✅ |
| لوحة التحكم | ❌ | ✅ | ✅ |
| التقارير | ❌ | ✅ | ✅ |
| مراجعة المخزون | ❌ | ✅ | ✅ |
| إلغاء فواتير | ❌ | ✅ | ✅ |
| تعديل الأسعار | ❌ | ❌ | ✅ |
| إدارة المستخدمين | ❌ | ❌ | ✅ |
| إعدادات النظام | ❌ | ❌ | ✅ |

## 💾 تخزين البيانات

النظام يستخدم `localStorage` لحفظ:
- بيانات المستخدم الحالي
- المخزون المحدث
- سجل المبيعات
- الفواتير

## 🎨 التخصيص

### تغيير الألوان
عدّل المتغيرات في `styles.css`:
```css
:root {
    --primary-color: #8b4513;  /* لون القهوة */
    --success-color: #10b981;  /* لون النجاح */
    --danger-color: #ef4444;   /* لون التحذير */
}
```

### إضافة منتجات جديدة
عدّل مصفوفة `products` في `script.js`:
```javascript
{ 
    id: 41, 
    name: 'منتج جديد', 
    price: 15.00, 
    category: 'hot-drinks', 
    icon: 'fa-mug-hot', 
    stock: 50 
}
```

### إضافة مستخدمين جدد
عدّل مصفوفة `users` في `auth.js`:
```javascript
{ 
    username: 'user', 
    password: '1234', 
    role: 'cashier', 
    name: 'اسم المستخدم' 
}
```

## 🔧 المتطلبات

- متصفح حديث (Chrome, Firefox, Safari, Edge)
- اتصال بالإنترنت (لتحميل المكتبات الخارجية)

## 📚 المكتبات المستخدمة

- [Font Awesome 6.4.0](https://fontawesome.com/) - الأيقونات
- [SweetAlert2](https://sweetalert2.github.io/) - الرسائل التفاعلية

## ⌨️ اختصارات لوحة المفاتيح

- `F1` - إتمام الدفع
- `F2` - مسح السلة
- `F3` - تطبيق خصم
- `ESC` - إغلاق النوافذ المنبثقة

## 🐛 استكشاف الأخطاء

### المشكلة: لا يمكن تسجيل الدخول
- تأكد من إدخال اسم المستخدم وكلمة المرور والصلاحية بشكل صحيح
- استخدم الحسابات التجريبية المذكورة أعلاه

### المشكلة: البيانات لا تُحفظ
- تأكد من تفعيل localStorage في المتصفح
- لا تستخدم وضع التصفح الخاص

### المشكلة: المخزون لا يتحدث
- تأكد من إتمام عملية الدفع بالكامل
- تحقق من console للأخطاء

## 📝 ملاحظات مهمة

- البيانات محفوظة محلياً في المتصفح
- لا يوجد اتصال بقاعدة بيانات خارجية
- مناسب للاستخدام التجريبي والتعليمي
- للاستخدام الإنتاجي، يُنصح بربطه بقاعدة بيانات حقيقية

## 🚀 التطوير المستقبلي

- [ ] ربط بقاعدة بيانات حقيقية
- [ ] نظام طباعة متقدم
- [ ] دعم الباركود
- [ ] تطبيق موبايل
- [ ] تقارير PDF
- [ ] نظام الولاء للعملاء
- [ ] دعم عملات متعددة

## 📄 الترخيص

هذا المشروع مفتوح المصدر ومتاح للاستخدام الشخصي والتجاري.

## 👨‍💻 المطور

تم تطويره بواسطة Kiro AI

---

**استمتع باستخدام نظام كاشير المقهى! ☕**
